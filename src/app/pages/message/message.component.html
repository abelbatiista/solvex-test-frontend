<mat-card class="card">
    <mat-card-header>
        <mat-card-title>Users</mat-card-title>
    </mat-card-header>
    <mat-selection-list #usersList [multiple]="false" class="list" (selectionChange)="openChat($event, usersList.selectedOptions.selected[0].value)">
        <mat-list-option *ngFor="let user of users | keyvalue" [value]="user">
            {{ user.value }}
        </mat-list-option>
    </mat-selection-list>
</mat-card>

<mat-card class="card" *ngIf="chattingWith">
    <mat-card-header>
        <mat-card-title>Chatting with {{ chattingWith.name }}</mat-card-title>
    </mat-card-header>
    <mat-card-content class="card-content">
        <div *ngFor="let msg of _messageService.messages">
            {{msg.message}}
            <span style="color: lightblue; font-size: 10px; font-style: italic;">{{msg.date | date: "HH:mm:ss"}}</span>
        </div>
    </mat-card-content>
    <mat-form-field class="full-width">
        <textarea matInput placeholder="Message" [(ngModel)]="messageText" (keydown.enter)="sendMessage()"></textarea>
    </mat-form-field>
</mat-card>